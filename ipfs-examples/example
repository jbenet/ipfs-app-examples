<!DOCTYPE html>
<html>

<head>
<title>ipfs example viewer</title>

<script src="lib/jquery.min.js"></script>
<script src="lib/marked.min.js"></script>
<script src="lib/prettify.min.js"></script>
<script src="lib/strapdown.js"></script>
<script src="lib/params.js"></script>
<link rel="stylesheet" href="lib/strapdown.css" />
<link rel="stylesheet" href="lib/mdown-style.css" />

<style type="text/css">
body .navbar-inner #headline {
  font-size: 16px;
}
</style>

</head>
<body>

<xmp id="markdown" theme="" style="display:none;"></xmp>
<h1 id="loading">Loading...</h1>

<script>
function render(path) {
  var xmp = document.getElementById("markdown");

  // set theme first.
  var theme = getParameterByName("theme")
  if (theme && theme && theme.length > 0) {
    $(xmp).attr('theme', theme)
  }

  $.get(path, function(data) {
    xmp.innerHTML = data;
    strapdown(window, document)

    // fix the navbar
    $('.navbar #headline').html('<a href="http://ipfs.io">ipfs</a> example | <a href="' + path + '">view source</a>')
    $('title').text($('.navbar-inner #headline').text())

    $('.navbar-fixed-top')
      .addClass('navbar-static-top')
      .removeClass('navbar-fixed-top')

    $('#loading').hide()
  })
}

var hash = window.location.hash.substring(1)
if (hash.length > 0) {
  render(hash)
} else {
  window.location.hash = "#/ipfs/QmTDMoVqvyBkNMRhzvukTDznntByUNDwyNdSfV8dZ3VKRC/readme.md"
  window.location.reload()
}
</script>
</body>
</html>
